{"ast":null,"code":"import _slicedToArray from\"C:/Users/hosam/Desktop/food/Food/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"C:/Users/hosam/Desktop/food/Food/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/hosam/Desktop/food/Food/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createContext,useReducer}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var foodContext=/*#__PURE__*/createContext(0);var defultCartState={items:[],totalAmount:0};function cartReduser(state,action){if(action.type==='ADD'){var updatedTotalAmount=state.totalAmount+action.item.price*action.item.amount;var existingItemIndex=state.items.findIndex(function(item){return item.id===action.item.id;});var existingItem=state.items[existingItemIndex];var updatedItems;if(existingItem){var updatedItem=_objectSpread(_objectSpread({},existingItem),{},{amount:existingItem.amount+action.item.amount});updatedItems=_toConsumableArray(state.items);updatedItems[existingItemIndex]=updatedItem;}else{updatedItems=state.items.concat(action.item);}return{items:updatedItems,totalAmount:updatedTotalAmount};}if(action.type==='REMOVE'){var _existingItemIndex=state.items.findIndex(function(item){return item.id===action.id;});var _existingItem=state.items[_existingItemIndex];var _updatedTotalAmount=state.totalAmount-_existingItem.price;var _updatedItems;if(_existingItem.amount===1){_updatedItems=state.items.filter(function(item){return item.id!==action.id;});}else{var _updatedItem=_objectSpread(_objectSpread({},_existingItem),{},{amount:_existingItem.amount-1});_updatedItems=_toConsumableArray(state.items);_updatedItems[_existingItemIndex]=_updatedItem;}return{items:_updatedItems,totalAmount:_updatedTotalAmount};}return defultCartState;}export default function FoodContextProvider(props){var _useReducer=useReducer(cartReduser,defultCartState),_useReducer2=_slicedToArray(_useReducer,2),cartState=_useReducer2[0],dispatchCartAction=_useReducer2[1];function addItemToCart(item){dispatchCartAction({type:'ADD',item:item});}function removeItemFromCart(id){dispatchCartAction({type:'REMOVE',id:id});}var cartContext={items:cartState.items,totalAmount:cartState.totalAmount,addItem:addItemToCart,removeItem:removeItemFromCart};return/*#__PURE__*/_jsx(foodContext.Provider,{value:cartContext,children:props.children});}","map":{"version":3,"names":["createContext","useReducer","jsx","_jsx","foodContext","defultCartState","items","totalAmount","cartReduser","state","action","type","updatedTotalAmount","item","price","amount","existingItemIndex","findIndex","id","existingItem","updatedItems","updatedItem","_objectSpread","_toConsumableArray","concat","filter","FoodContextProvider","props","_useReducer","_useReducer2","_slicedToArray","cartState","dispatchCartAction","addItemToCart","removeItemFromCart","cartContext","addItem","removeItem","Provider","value","children"],"sources":["C:/Users/hosam/Desktop/food/Food/src/store/Store.js"],"sourcesContent":["import { createContext, useReducer } from 'react'\r\n\r\nexport let foodContext = createContext(0)\r\n\r\nconst defultCartState = {\r\n  items: [],\r\n  totalAmount: 0,\r\n}\r\n\r\nfunction cartReduser(state, action) {\r\n  if (action.type === 'ADD') {\r\n    const updatedTotalAmount =\r\n      state.totalAmount + action.item.price * action.item.amount\r\n    const existingItemIndex = state.items.findIndex(\r\n      (item) => item.id === action.item.id,\r\n    )\r\n    const existingItem = state.items[existingItemIndex]\r\n    let updatedItems\r\n    if (existingItem) {\r\n      let updatedItem = {\r\n        ...existingItem,\r\n        amount: existingItem.amount + action.item.amount,\r\n      }\r\n      updatedItems = [...state.items]\r\n      updatedItems[existingItemIndex] = updatedItem\r\n    } else {\r\n      updatedItems = state.items.concat(action.item)\r\n    }\r\n\r\n    return {\r\n      items: updatedItems,\r\n      totalAmount: updatedTotalAmount,\r\n    }\r\n  }\r\n    if (action.type === 'REMOVE')\r\n    {\r\n        const existingItemIndex = state.items.findIndex(\r\n            (item) => item.id === action.id,\r\n            )\r\n            const existingItem =state.items[existingItemIndex]\r\n            \r\n        const updatedTotalAmount = state.totalAmount - existingItem.price;\r\n        let updatedItems\r\n        if (existingItem.amount === 1)\r\n        {\r\n            updatedItems =state.items.filter((item) =>item.id !== action.id )\r\n        } else\r\n        {\r\n            const updatedItem = { ...existingItem, amount: existingItem.amount - 1 }\r\n            updatedItems = [...state.items]\r\n            updatedItems[existingItemIndex]=updatedItem\r\n        }\r\n        return {\r\n            items: updatedItems,\r\n            totalAmount:updatedTotalAmount\r\n        }\r\n    \r\n    }\r\n  return defultCartState\r\n}\r\n\r\nexport default function FoodContextProvider(props) {\r\n  const [cartState, dispatchCartAction] = useReducer(\r\n    cartReduser,\r\n    defultCartState,\r\n  )\r\n\r\n  function addItemToCart(item) {\r\n    dispatchCartAction({ type: 'ADD', item: item })\r\n  }\r\n  function removeItemFromCart(id) {\r\n    dispatchCartAction({ type: 'REMOVE', id: id })\r\n  }\r\n  const cartContext = {\r\n    items: cartState.items,\r\n    totalAmount: cartState.totalAmount,\r\n    addItem: addItemToCart,\r\n    removeItem: removeItemFromCart,\r\n  }\r\n\r\n  return (\r\n    <foodContext.Provider value={cartContext}>\r\n      {props.children}\r\n    </foodContext.Provider>\r\n  )\r\n}\r\n"],"mappings":"yWAAA,OAASA,aAAa,CAAEC,UAAU,KAAQ,OAAO,QAAAC,GAAA,IAAAC,IAAA,yBAEjD,MAAO,IAAI,CAAAC,WAAW,cAAGJ,aAAa,CAAC,CAAC,CAAC,CAEzC,GAAM,CAAAK,eAAe,CAAG,CACtBC,KAAK,CAAE,EAAE,CACTC,WAAW,CAAE,CACf,CAAC,CAED,QAAS,CAAAC,WAAWA,CAACC,KAAK,CAAEC,MAAM,CAAE,CAClC,GAAIA,MAAM,CAACC,IAAI,GAAK,KAAK,CAAE,CACzB,GAAM,CAAAC,kBAAkB,CACtBH,KAAK,CAACF,WAAW,CAAGG,MAAM,CAACG,IAAI,CAACC,KAAK,CAAGJ,MAAM,CAACG,IAAI,CAACE,MAAM,CAC5D,GAAM,CAAAC,iBAAiB,CAAGP,KAAK,CAACH,KAAK,CAACW,SAAS,CAC7C,SAACJ,IAAI,QAAK,CAAAA,IAAI,CAACK,EAAE,GAAKR,MAAM,CAACG,IAAI,CAACK,EAAE,GACrC,CACD,GAAM,CAAAC,YAAY,CAAGV,KAAK,CAACH,KAAK,CAACU,iBAAiB,CAAC,CACnD,GAAI,CAAAI,YAAY,CAChB,GAAID,YAAY,CAAE,CAChB,GAAI,CAAAE,WAAW,CAAAC,aAAA,CAAAA,aAAA,IACVH,YAAY,MACfJ,MAAM,CAAEI,YAAY,CAACJ,MAAM,CAAGL,MAAM,CAACG,IAAI,CAACE,MAAM,EACjD,CACDK,YAAY,CAAAG,kBAAA,CAAOd,KAAK,CAACH,KAAK,CAAC,CAC/Bc,YAAY,CAACJ,iBAAiB,CAAC,CAAGK,WAAW,CAC/C,CAAC,IAAM,CACLD,YAAY,CAAGX,KAAK,CAACH,KAAK,CAACkB,MAAM,CAACd,MAAM,CAACG,IAAI,CAAC,CAChD,CAEA,MAAO,CACLP,KAAK,CAAEc,YAAY,CACnBb,WAAW,CAAEK,kBACf,CAAC,CACH,CACE,GAAIF,MAAM,CAACC,IAAI,GAAK,QAAQ,CAC5B,CACI,GAAM,CAAAK,kBAAiB,CAAGP,KAAK,CAACH,KAAK,CAACW,SAAS,CAC3C,SAACJ,IAAI,QAAK,CAAAA,IAAI,CAACK,EAAE,GAAKR,MAAM,CAACQ,EAAE,GAC9B,CACD,GAAM,CAAAC,aAAY,CAAEV,KAAK,CAACH,KAAK,CAACU,kBAAiB,CAAC,CAEtD,GAAM,CAAAJ,mBAAkB,CAAGH,KAAK,CAACF,WAAW,CAAGY,aAAY,CAACL,KAAK,CACjE,GAAI,CAAAM,aAAY,CAChB,GAAID,aAAY,CAACJ,MAAM,GAAK,CAAC,CAC7B,CACIK,aAAY,CAAEX,KAAK,CAACH,KAAK,CAACmB,MAAM,CAAC,SAACZ,IAAI,QAAI,CAAAA,IAAI,CAACK,EAAE,GAAKR,MAAM,CAACQ,EAAE,GAAE,CACrE,CAAC,IACD,CACI,GAAM,CAAAG,YAAW,CAAAC,aAAA,CAAAA,aAAA,IAAQH,aAAY,MAAEJ,MAAM,CAAEI,aAAY,CAACJ,MAAM,CAAG,CAAC,EAAE,CACxEK,aAAY,CAAAG,kBAAA,CAAOd,KAAK,CAACH,KAAK,CAAC,CAC/Bc,aAAY,CAACJ,kBAAiB,CAAC,CAACK,YAAW,CAC/C,CACA,MAAO,CACHf,KAAK,CAAEc,aAAY,CACnBb,WAAW,CAACK,mBAChB,CAAC,CAEL,CACF,MAAO,CAAAP,eAAe,CACxB,CAEA,cAAe,SAAS,CAAAqB,mBAAmBA,CAACC,KAAK,CAAE,CACjD,IAAAC,WAAA,CAAwC3B,UAAU,CAChDO,WAAW,CACXH,eAAe,CAChB,CAAAwB,YAAA,CAAAC,cAAA,CAAAF,WAAA,IAHMG,SAAS,CAAAF,YAAA,IAAEG,kBAAkB,CAAAH,YAAA,IAKpC,QAAS,CAAAI,aAAaA,CAACpB,IAAI,CAAE,CAC3BmB,kBAAkB,CAAC,CAAErB,IAAI,CAAE,KAAK,CAAEE,IAAI,CAAEA,IAAK,CAAC,CAAC,CACjD,CACA,QAAS,CAAAqB,kBAAkBA,CAAChB,EAAE,CAAE,CAC9Bc,kBAAkB,CAAC,CAAErB,IAAI,CAAE,QAAQ,CAAEO,EAAE,CAAEA,EAAG,CAAC,CAAC,CAChD,CACA,GAAM,CAAAiB,WAAW,CAAG,CAClB7B,KAAK,CAAEyB,SAAS,CAACzB,KAAK,CACtBC,WAAW,CAAEwB,SAAS,CAACxB,WAAW,CAClC6B,OAAO,CAAEH,aAAa,CACtBI,UAAU,CAAEH,kBACd,CAAC,CAED,mBACE/B,IAAA,CAACC,WAAW,CAACkC,QAAQ,EAACC,KAAK,CAAEJ,WAAY,CAAAK,QAAA,CACtCb,KAAK,CAACa,QAAQ,EACM,CAE3B"},"metadata":{},"sourceType":"module","externalDependencies":[]}